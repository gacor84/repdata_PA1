rm(weekday)
Weekday<-as.factor(weekdays(date2))
str(weekday)
str(Weekday)
levels(weekday)<-c("weekday","weekday","weekday","weekday","weekday","weekend","weekend")
levels(Weekday)<-c("weekday","weekday","weekday","weekday","weekday","weekend","weekend")
str(Weekday)
act3<-cbind(act2,Weekday)
head(act3)
head(act3[[interval==0,]])
head(act3[interval==0,])
head(act3[act3$interval==0,])
ggplot(data = act,aes(x=interval,y=steps))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Average number of steps taken by interval\n",
y="Steps (averaged across all days)\n",x="\nInterval")
library(ggplot2)
ggplot(data = act,aes(x=interval,y=steps))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Average number of steps taken by interval\n",
y="Steps (averaged across all days)\n",x="\nInterval")
library(gridExtra)
act3[Weekday=="weekday"]
act3[Weekday=="weekday",]
p3<-ggplot(data = act3[Weekday=="weekday",],aes(x=act3$interval,y=act3$steps))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays\n",
y="Steps\n",x="\nInterval")
p4<-ggplot(data = act3[Weekday=="weekend",],aes(x=act3$interval,y=act3$steps))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekends\n",
y="Steps (averaged across weekend days)\n",x="\nInterval")
p3
attach(act3)
detach(act2)
detach(act3)
attach(act3)
head(act3)
p3<-ggplot(data = act3[Weekday=="weekday",],aes(x=interval2,y=steps2))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays\n",y="Steps\n",x="\nInterval")
p4<-ggplot(data = act3[Weekday=="weekend",],aes(x=interval2,y=steps2))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekends\n",y="Steps\n",x="\nInterval")
p3
p4
grid.arrange(p3,p4,main = "Average number of steps taken by interval")
detach(act3)
save.image("~/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/PA1_Template.RData")
load("/home/gaelle/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/PA1_Template.RData")
rm(wd)
data_dir<-"/home/gaelle/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/"
rm(data_dir)
act.dir<-"/home/gaelle/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/"
act.path<-file.path(wd, "activity.csv")
act.path<-file.path(act.dir, "activity.csv")
act<-read.csv(act.path, header = T, sep=",")
dettach(act)
detach(act)
mean.I[mean.I$steps.mean==max(mean.I$steps.mean),]
which(mean.I$steps.mean==max(mean.I$steps.mean))
mean.I[which(mean.I$steps.mean==max(mean.I$steps.mean))]
mean.I[which(mean.I$steps.mean==max(mean.I$steps.mean)),]
sum(is.na(act$steps))
sum(is.na(act))
head(act); head(mean.I)
act.mean.I<-merge(act,mean.I,by.x = "interval")
head(act.mean.I)
act.mean.I<-act.mean.I[order(act.mean.I[,3]),]
head(act.mean.I)
head(act2)
p2<-ggplot(data = act2,aes(x=date,y=steps))+
geom_histogram(stat="summary",fun.y="sum")+
labs(title="Number of steps taken each day v.2",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
library(ggplot2)
act2$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(date2)
rm(data_path)
rm(date2)
str(act2$date2)
Weekday<-as.factor(weekdays(act2$date2))
str(Weekday)
levels(Weekday)
str(Weekday)
sum2
head(sum2)
p2<-ggplot(data = sum2,aes(x=date2,y=steps.mean2))+
geom_histogram()+
labs(title="Number of steps taken each day v.2",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2
p2<-ggplot(data = sum2,aes(x=date2,y=steps.mean2))+
geom_histogram(stat="summary")+
labs(title="Number of steps taken each day v.2",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2
p2<-ggplot(data = sum2,aes(x=date2,y=steps.mean2))+
geom_histogram(stat="identity")+
labs(title="Number of steps taken each day v.2",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2
head(sum1)
cbind(sum1,na.omit(act$interval))
ggplot(data = act,aes(x=interval,y=steps))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Average number of steps taken by interval\n",
y="Steps (averaged across all days)\n",x="\nInterval")
head(act2)
str(act2$date2)
Weekday<-as.factor(weekdays(act2$date2))
str(Weekday)
levels(Weekday)
levels(Weekday)<-c("weekday","weekday","weekend","weekend","weekday","weekday","weekday")
str(Weekday)
levels(Weekday)
head(act3)
str(date2)
sessionInfo()
levels(Weekday)
Weekday<-as.factor(weekdays(act2$date2))
levels(Weekday)
str(act2)
str(act2)
head(act3)
str(act2)
ggplot(data = act2,aes(x=date2,y=steps2,colour=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
library(scales) # to access breaks/formatting functions
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "weeks",labels=date_format("%d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels=date_format("%D %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels=date2)+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels=act2$date2)+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
strptime?
?strptime
?scale_x_date
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels = date_format("%a %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2,aes(x=date2,y=steps2,fill=date2))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
str(date2)
str(act2date2)
str(act2$date2)
levels(Weekday)
head(act3)
Weekday<-as.factor(weekdays(act2$date2))
levels(Weekday)
str(act2$date2)
act2.days<-cbind(act2,Weekday)
head(act2.days)
str(act2.days)
ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
# reordering weekday legend:
scale_fill_discrete(breaks=c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
head(act3)
names(act3)<-c("steps3","date3","interval3","Weekday")
head(act3)
ggplot(data = act3,aes(x=date3,y=steps3,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.3 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
# reordering weekday legend:
scale_fill_discrete(breaks=c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
str(act3)
ggplot(data = act3,aes(x=date3,y=steps3,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.3 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
head(act3)
ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
# reordering weekday legend:
scale_fill_discrete(breaks=c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
head(act2.days)
levels(Weekday)
act2.days<-cbind(act2,Weekday)
ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
# reordering weekday legend:
scale_fill_discrete(breaks=c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
levels(Weekday)<-c("weekday","weekday","weekend","weekend","weekday","weekday","weekday")
levels(Weekday)
act3<-cbind(act2,Weekday)
names(act3)<-c("steps3","date3","interval3","Weekday")
head(act3)
ggplot(data = act3,aes(x=date3,y=steps3,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.3 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2
p3.wd<-ggplot(data = act3,aes(x=date3,y=steps3,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.3 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p3.wd
grid.arrange(p3,p4,main = "\nAverage number of steps taken by interval")
library(gridExtra)
grid.arrange(p3,p4,main = "\nAverage number of steps taken by interval")
str(act2$date2)
act2<-act
for(i in 1:nrow(act2)){
if (is.na(act2[i,1])){
act2[i,1]<-act.mean.I[i,4]
}
}
head(act2)
names(act2)<-c("steps2","date2","interval2")
head(act2)
str(act2$date2)
str(act2$date2)
act2$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2$date2)
str(act2$date2)
act2<-act
for(i in 1:nrow(act2)){
if (is.na(act2[i,1])){
act2[i,1]<-act.mean.I[i,4]
}
}
str(act2$date2)
names(act2)<-c("steps2","date2","interval2")
head(act2)
str(act2$date2)
act2.days<-act2
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
Weekday<-as.factor(weekdays(act2$date2))
Weekday<-as.factor(weekdays(act2.days$date2))
levels(Weekday)
levels(Weekday)
str(act2.days$date2)
levels(Weekday)
levels(Weekday)
Weekdays<-ordered(c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))
Weekday<-as.factor(weekdays(act2.days$date2))
levels(Weekday)
act2.days<-cbind(act2,Weekday)
head(act2.days)
Weekdays<-ordered(c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))
levels(act2.days$Weekday)
Weekday<-as.factor(weekdays(act2.days$date2))
act2.days<-act2
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
act2$Weekday<-as.factor(weekdays(act2.days$date2))
head(act2.days)
head(act2.days)
act2$Weekday<-cbind(as.factor(weekdays(act2.days$date2)))
head(act2.days)
rm(Weekdays)
str(act2.days$date2)
head(act2.days)
act2.days<-cbind(act2.days,as.factor(weekdays(act2.days$date2)))
head(act2.days)
act2.days<-act2
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
head(act2.days)
act2.days<-act2
head(act2.days)
act2
head(act2)
act2<-act
head(act)
head(act2)
for(i in 1:nrow(act2)){
if (is.na(act2[i,1])){
act2[i,1]<-act.mean.I[i,4]
}
}
names(act2)<-c("steps2","date2","interval2")
head(act2)
act2.days<-act2
str(act2$date2)
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
act2.days<-cbind(act2.days,Weekday=as.factor(weekdays(act2.days$date2)))
head(act2.days)
levels(act2.days$Weekday)
act2.days$Weekday<-ordered(c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))
levels(act2.days$Weekday)
levels(act2.days$Weekday)
act2.days$Weekday<-factor(act2.days$Weekday,
levels = c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))
levels(act2.days$Weekday)
p2.days<-ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2.days
levels(act2.days$Weekday)
act2.days<-act2
str(act2$date2)
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
act2.days<-cbind(act2.days,Weekday=as.factor(weekdays(act2.days$date2)))
head(act2.days)
levels(act2.days$Weekday)
levels(act2.days$Weekday)<-c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday")
levels(act2.days$Weekday)
p2.days<-ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2.days
act3<-act2.days
names(act3)<-c("steps3","date3","interval3","Weekday")
head(act3)
levels(act2.days$Weekday)
head(act2.days)
head(act2)
act2.days<-act2
str(act2$date2)
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
act2.days<-cbind(act2.days,Weekday=as.factor(weekdays(act2.days$date2)))
head(act2.days)
levels(act2.days$Weekday)
levels(act2.days$Weekday)<-c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday")
levels(act2.days$Weekday)
head(act2.days)
act2.days<-act2
str(act2$date2)
act2.days$date2<-as.Date(x = act2$date2,format = "%Y-%m-%d")
str(act2.days$date2)
act2.days<-cbind(act2.days,Weekday=as.factor(weekdays(act2.days$date2)))
head(act2.days)
levels(act2.days$Weekday)
act2.days$Weekday<-factor(act2.days$Weekday,
levels = c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday")
levels(act2.days$Weekday)
levels(act2.days$Weekday)
act2.days$Weekday<-factor(act2.days$Weekday,
levels = c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday")
act2.days$Weekday<-factor(act2.days$Weekday,
levels = c("Monday","Tuesday","Wednesday","Thursday",
"Friday","Saturday","Sunday"))
levels(act2.days$Weekday)
head(act2.days)
p2.days<-ggplot(data = act2.days,aes(x=date2,y=steps2,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.2 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p2.days
act3<-act2.days
names(act3)<-c("steps3","date3","interval3","Weekday")
head(act3)
act3$Weekday<-factor(act3$Weekday,
levels = c("weekday","weekday","weekday","weekday","weekday",
"weekend","weekend"))
act3<-act2.days
names(act3)<-c("steps3","date3","interval3","Weekday")
head(act3)
levels(act3$Weekday)<-c("weekday","weekday","weekday","weekday","weekday",
"weekend","weekend"))
levels(act3$Weekday)<-c("weekday","weekday","weekday","weekday","weekday",
"weekend","weekend")
head(act3)
levels(act3$Weekday)
p3.wd<-ggplot(data = act3,aes(x=date3,y=steps3,fill=Weekday))+
geom_histogram(stat="summary",fun.y="mean")+
labs(title="Number of steps taken each day v.3 coloured",y="",x="")+
# date format on x axis:
scale_x_date(breaks = "days",labels = date_format("%a %d %b"))+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
p3.wd
p3<-ggplot(data = act3[Weekday=="weekday",],aes(x=interval2,y=steps2))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays",y="Steps",x="Interval")
heda(act3)
head(act3)
p3<-ggplot(data = act3[Weekday=="weekday",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays",y="Steps",x="Interval")
p3.monfry<-ggplot(data = act3[Weekday=="weekday",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays",y="Steps",x="Interval")
p3.satsun<-ggplot(data = act3[Weekday=="weekend",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekends",y="Steps",x="Interval")
rm(p3)
rm(p4)
library(gridExtra)
grid.arrange(p3,p4,main = "\nAverage number of steps taken by interval")
grid.arrange(p3.monfry,p3.satsun,main = "Average number of steps taken by interval")
head(act3)
str(act3)
p3.monfry<-ggplot(data = act3[Weekday=="weekday",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays",y="Steps",x="Interval")
p3.satsun<-ggplot(data = act3[Weekday=="weekend",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekends",y="Steps",x="Interval")
grid.arrange(p3.monfry,p3.satsun,main = "Average number of steps taken by interval")
head(act3)
act3[Weekday=="weekday",]
act3[Weekday=="weekday"]
act3[Weekday=="weekday",]
levels(act3$Weekday)
act3[Weekday=="weekday",]
act3[interval3==0,]
p3.monfry<-ggplot(data = act3[act3$Weekday=="weekday",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekdays",y="Steps",x="Interval")
p3.satsun<-ggplot(data = act3[act3$Weekday=="weekend",],aes(x=interval3,y=steps3))+
geom_line(stat="summary",fun.y="mean")+
labs(title="Weekends",y="Steps",x="Interval")
grid.arrange(p3.monfry,p3.satsun,main = "Average number of steps taken by interval")
p3.wd
x
rm(x)
rm(Weekday)
levels(act3$Weekday)
p2.days
save.image("~/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/PA1_Template.RData")
sum2<-summaryBy(formula = steps~date,data = act2,
FUN = function(x) { c(mean = round(mean(x),2), median = median(x)) } )
library(doBy)
sum2<-summaryBy(formula = steps~date,data = act2,
FUN = function(x) { c(mean = round(mean(x),2), median = median(x)) } )
sum2<-summaryBy(formula = act2$steps~act2$date,data = act2,
FUN = function(x) { c(mean = round(mean(x),2), median = median(x)) } )
head(sun2)
head(sum2)
sum2<-summaryBy(formula = act2$steps~act2$date,data = act2,
FUN = function(x) { c(mean = round(mean(x),2), median = median(x)) } )
head(sum2)
heda(act2)
head(act2)
sum2<-summaryBy(formula = steps2~date2,data = act2,
FUN = function(x) { c(mean = round(mean(x),2), median = median(x)) } )
heda(sum2)
head(sum2)
sum2
head(sum2)
p2<-ggplot(data = sum2,aes(x=date2,y=steps2.mean))+
geom_histogram(stat="identity")+
labs(title="Number of steps taken each day v.2",y="",x="")+
theme(axis.text.x=element_text(angle = 90, vjust = 0.5))
save.image("~/practicas/Coursera_Data_Science/Assessments/Reproducible_Research/PA1_Template.RData")
